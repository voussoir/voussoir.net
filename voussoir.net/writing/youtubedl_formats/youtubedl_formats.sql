CREATE TABLE formats(id TEXT, kind TEXT, quality TEXT, codec TEXT, examples TEXT);
INSERT INTO formats VALUES
('18', 'Combined', '360p30', 'AVC+m4a', 'S8Zt6cB_NPU'),
('22', 'Combined', '720p30', 'AVC+m4a', 'S8Zt6cB_NPU'),
('133', 'Video', '240p30', 'AVC', 'S8Zt6cB_NPU 1La4QzGeaaQ -xNN-bJQ4vI i6fWG4FxDZw'),
('134', 'Video', '360p30', 'AVC', 'S8Zt6cB_NPU 1La4QzGeaaQ -xNN-bJQ4vI i6fWG4FxDZw'),
('135', 'Video', '480p30', 'AVC', 'S8Zt6cB_NPU 1La4QzGeaaQ -xNN-bJQ4vI i6fWG4FxDZw'),
('136', 'Video', '720p30', 'AVC', 'S8Zt6cB_NPU 1La4QzGeaaQ -xNN-bJQ4vI i6fWG4FxDZw'),
('137', 'Video', '1080p30', 'AVC', 'S8Zt6cB_NPU 1La4QzGeaaQ -xNN-bJQ4vI i6fWG4FxDZw'),
('140', 'Audio', '128k', 'm4a', 'S8Zt6cB_NPU'),
('160', 'Video', '144p30', 'AVC', 'S8Zt6cB_NPU 1La4QzGeaaQ -xNN-bJQ4vI i6fWG4FxDZw'),
('242', 'Video', '240p30', 'VP9', 'S8Zt6cB_NPU 1La4QzGeaaQ -xNN-bJQ4vI i6fWG4FxDZw'),
('243', 'Video', '360p30', 'VP9', 'S8Zt6cB_NPU 1La4QzGeaaQ -xNN-bJQ4vI i6fWG4FxDZw'),
('244', 'Video', '480p30', 'VP9', 'S8Zt6cB_NPU 1La4QzGeaaQ -xNN-bJQ4vI i6fWG4FxDZw'),
('247', 'Video', '720p30', 'VP9', 'S8Zt6cB_NPU 1La4QzGeaaQ -xNN-bJQ4vI i6fWG4FxDZw'),
('248', 'Video', '1080p30', 'VP9', 'S8Zt6cB_NPU 1La4QzGeaaQ -xNN-bJQ4vI i6fWG4FxDZw'),
('249', 'Audio', '50k', 'Opus', 'S8Zt6cB_NPU'),
('250', 'Audio', '70k', 'Opus', 'S8Zt6cB_NPU'),
('251', 'Audio', '160k', 'Opus', 'S8Zt6cB_NPU'),
('256', 'Audio', '195k', 'm4a', 'NMANRHz4UAY'),
('258', 'Audio', '386k', 'm4a', 'NMANRHz4UAY'),
('264', 'Video', '1440p30', 'AVC', '-xNN-bJQ4vI i6fWG4FxDZw'),
('266', 'Video', '2160p30', 'AVC', '-xNN-bJQ4vI i6fWG4FxDZw'),
('271', 'Video', '1440p30', 'VP9', 'kFz9afj8lu0 1La4QzGeaaQ -xNN-bJQ4vI i6fWG4FxDZw'),
('272', 'Video', '4320p30', 'VP9', 'i6fWG4FxDZw'),
('278', 'Video', '144p30', 'VP9', 'S8Zt6cB_NPU 1La4QzGeaaQ -xNN-bJQ4vI i6fWG4FxDZw'),
('298', 'Video', '720p60', 'AVC', '1La4QzGeaaQ -xNN-bJQ4vI'),
('299', 'Video', '1080p60', 'AVC', '1La4QzGeaaQ -xNN-bJQ4vI'),
('302', 'Video', '720p60', 'VP9', '1La4QzGeaaQ -xNN-bJQ4vI'),
('303', 'Video', '1080p60', 'VP9', '1La4QzGeaaQ -xNN-bJQ4vI'),
('304', 'Video', '1440p60', 'AVC', '-xNN-bJQ4vI'),
('305', 'Video', '2160p60', 'AVC', '-xNN-bJQ4vI'),
('308', 'Video', '1440p60', 'VP9', '1La4QzGeaaQ -xNN-bJQ4vI'),
('313', 'Video', '2160p30', 'VP9', 'kFz9afj8lu0 1La4QzGeaaQ -xNN-bJQ4vI i6fWG4FxDZw'),
('315', 'Video', '2160p60', 'VP9', '1La4QzGeaaQ -xNN-bJQ4vI'),
('330', 'Video', '144p60 HDR', 'VP9', '1La4QzGeaaQ'),
('331', 'Video', '240p60 HDR', 'VP9', '1La4QzGeaaQ'),
('332', 'Video', '360p60 HDR', 'VP9', '1La4QzGeaaQ'),
('333', 'Video', '480p60 HDR', 'VP9', '1La4QzGeaaQ'),
('334', 'Video', '720p60 HDR', 'VP9', '1La4QzGeaaQ'),
('335', 'Video', '1080p60 HDR', 'VP9', '1La4QzGeaaQ'),
('336', 'Video', '1440p60 HDR', 'VP9', '1La4QzGeaaQ'),
('337', 'Video', '2160p60 HDR', 'VP9', '1La4QzGeaaQ'),
('394', 'Video', '144p30', 'AV1', 'S8Zt6cB_NPU 1La4QzGeaaQ'),
('395', 'Video', '240p30', 'AV1', 'S8Zt6cB_NPU 1La4QzGeaaQ'),
('396', 'Video', '360p30', 'AV1', 'S8Zt6cB_NPU 1La4QzGeaaQ'),
('397', 'Video', '480p30', 'AV1', 'S8Zt6cB_NPU 1La4QzGeaaQ'),
('398', 'Video', '720p60', 'AV1', '1La4QzGeaaQ'),
('399', 'Video', '1080p60', 'AV1', '1La4QzGeaaQ'),
('400', 'Video', '1440p60', 'AV1', 'kFz9afj8lu0 1La4QzGeaaQ'),
('401', 'Video', '2160p60', 'AV1', 'kFz9afj8lu0 1La4QzGeaaQ'),
('571', 'Video', '4320p60', 'AV1', 'kFz9afj8lu0 1La4QzGeaaQ');

.headers off

.print Youtube-dl format code cheatsheet
.print =================================

.print
.print Here are all the youtube-dl format codes I can find.
.print Please let me know if there are more.
.print
.print You can pass them to youtube-dl as `--format a+b/c+d/e`,
.print where a+b is your preferred video+audio pair, c+d is your second-best
.print preference, and e is your last resort.
.print Don't forget the magic words like \"bestvideo\", \"bestaudio\" to round out your selection.
.print
.print See https://github.com/ytdl-org/youtube-dl/blob/master/README.md#format-selection
.print
.print There are more formats listed in [youtube-dl's source code](https://github.com/ytdl-org/youtube-dl/blob/eb6181759f3a784d7b77ec9d2ec1a65dfd695d92/youtube_dl/extractor/youtube.py#L430),
.print but some of them seem to be obsolete and are no longer returned by `-F`
.print even when using the example video IDs listed there. I will only include
.print codes for which I have an example.
.print

.print ## Video formats
.print
.print id | quality | codec | examples
.print -: |      -: |    -: | :-
SELECT id, quality, codec, "`youtube-dl -F "||examples||"`" FROM formats WHERE kind == "Video" ORDER BY CAST(quality AS DECIMAL) DESC, quality DESC, codec ASC;

.print
.print ### AVC only
.print
.print id | quality | codec | examples
.print -: |      -: |    -: | :-
SELECT id, quality, codec, "`youtube-dl -F "||examples||"`" FROM formats WHERE codec == "AVC" ORDER BY CAST(quality AS DECIMAL) DESC, quality DESC;

.print
.print ### VP9 only
.print
.print id | quality | codec | examples
.print -: |      -: |    -: | :-
SELECT id, quality, codec, "`youtube-dl -F "||examples||"`" FROM formats WHERE codec == "VP9" ORDER BY CAST(quality AS DECIMAL) DESC, quality DESC;

.print
.print ### AV1 only
.print
.print id | quality | codec | examples
.print -: |      -: |    -: | :-
SELECT id, quality, codec, "`youtube-dl -F "||examples||"`" FROM formats WHERE codec == "AV1" ORDER BY CAST(quality AS DECIMAL) DESC, quality DESC;

.print
.print ## Audio formats
.print
.print id | quality | codec | examples
.print -: |      -: |    -: | :-
SELECT id, quality, codec, "`youtube-dl -F "||examples||"`" FROM formats WHERE kind == "Audio" ORDER BY CAST(quality AS DECIMAL) DESC, quality DESC, codec ASC;

.print
.print ## Combined formats
.print
.print id | quality | codec | examples
.print -: |      -: |    -: | :-
SELECT id, quality, codec, "`youtube-dl -F "||examples||"`" FROM formats WHERE kind == "Combined" ORDER BY CAST(quality AS DECIMAL) DESC, quality DESC, codec ASC;

.print
.print This document is generated [programmatically](youtubedl_formats.sql).
.print
.print "    sqlite3 :memory: \".read youtubedl_formats.sql\" > youtubedl_formats.md"
